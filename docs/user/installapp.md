---
sidebar_position: 3
slug: /user/installapp
---

# 安装应用

安装应用是 Websoft9 最吸引用户的功能之一，它与同类产品相比，极具创新性，实现极简安装和可全面配置的两种维度：  

- 支持应用商店的模板化安装，也支持自定义的镜像安装、源码安装
- 遵循“先安装，再配置”的原则，努力消除了一切困扰用户的安装参数
- 支持泛解析的域名，一次绑定域名，每个应用都可以用，避免反复绑定域名的麻烦
- 兼容**域名和端口**两种常见的应用访问模式
- 应用的配置文件和数据文件分离
- 基于 GitOps 的技术哲学，让应用可以**持续部署**
- 支持自动化配置的 HTTPS 证书和自上传证书两种模式

## 安装商店应用

通过 Websoft9 **应用商店**安装应用及其简单，下面是一个安装应用的范例：  

1. 进入应用商店，打开应用详情后点击【安装】

   ![](https://libs.websoft9.com/Websoft9/DocsPicture/zh/websoft9/websoft9-appstoredetail.png)

2. 填写或选择所需的参数：

   - 应用名称：建议填写为可识别的英文或拼音
   - 版本：自行选择，其中 latest 版本不是严格每日测试的版本
   - 端口：外网访问端口，设置后需要同时在安全组中放开方可使用
   - 域名：自动产生的域名或自行额外增加域名，也可以禁用自动产生的域名

   ![](https://libs.websoft9.com/Websoft9/DocsPicture/zh/websoft9/websoft9-installapp-fill.png)

   > 在使用域名的情况下，外围端口设置后不需要在安全组中设置。  

3. 点击【安装】按钮后，系统调转到**我的应用**页面

4. 等待应用状态由 **Installing** 变成 **Active** 即表明安装成功


## 安装自定义应用

安装应用商店之外的应用，我们称之为自定义应用的安装。

### 镜像安装

Websoft9 集成 Portainer 到左侧的**容器**上。Portainer 是一个支持自定义的容器可视化程序，它支持各种容器镜像的安装方式：  

- Docker-Compose 应用的自定义安装：【容器】>【Stacks】>【Add Stack】
- Docker 容器自定义安装：【容器】>【Containers】>【Add Container】

### 源码安装

如果您自定义安装的应用是 PHP, Java, Python 等源码，我们也提供了便捷的安装手段：

1. 通过应用商店的【运行环境】类目，找到对应的程序环境

2. 安装程序环境时，向导页面要求上传代码或提供代码下载地址

3. 开始安装构建

> 这种安装模式下，可能在容器启动后还需要进入容器进行一定的干预性配置

## 常见问题

您在安装应用中可能会碰到各种问题，下面是常见的问题及说明：

#### 应用显示 Active 了，但访问 URL 报错？

应用 Active 表示对应的容器已经运行，但可能容器内服务的初始化（应用的自动安装向导）还没有完成，需等待 1-5 分钟后再试

#### 外网端口填写有什么建议吗？

建议填写 9001-9999 之间的端口号，便于必要时方便管理对应的安全组。  

#### 安装应用时，如何连接第三方的数据库？

目前不支持在安装时自定义数据库连接，但可以通过重建应用的方式实现

#### 同一个应用支持安装多个吗？

支持

#### 应用名称后面为什么加了一段字符？

这是应用的 ID 号，避免应用冲突

#### 有些应用安装过程很慢，甚至超时？

安装应用时会在线拉取远程的 Docker 镜像，如何带宽太小或网络状况太差的情况下，慢或超时时正常现象。  

#### 如何提前拉取应用的镜像？

运行下面的命令即可提前拉取镜像，以 WordPress 为例：

```
# 拷贝应用清单到服务器
docker cp websoft9-apphub:/websoft9/library  /path/applibary

# 查看应用名录
ls /path/applibary

# cd 到应用的目录
cd /path/applibary/wordpress

# 拉取镜像
docker compose pull 
```
