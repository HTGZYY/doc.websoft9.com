---
slug: /troubleshooting
---

import DocCardList from '@theme/DocCardList';
import {useCurrentSidebarCategory} from '@docusaurus/theme-common';


# 故障处理

如果您是我们的订阅客户，一旦出现故障，我们建议您第一时刻联系我们的[技术支持](./helpdesk)，我们的客户成功团队将努力帮助您解决故障。  

如果您是开源用户，可以购买我们的单次技术服务解决故障，也可以自行解决故障。


## 紧急处理

#### 应用服务无法启动？

服务无法启动最常见的问题包括：磁盘空间不足，内存不足，配置文件错误。   

建议先通过命令进行排查  

```shell
# 查看进程
ps aux

# 查看磁盘空间
df -lh

# 查看内存使用
free -lh

# 查看容器日志
docker logs appname

# 查看服务状态和日志
systemctl status appname
journalctl -u appname
```

#### 修改了数据库密码，应用不能访问？

需要修改应用的 **配置文件** 对应的数据库 password 参数即可。


#### 如何查看错误日志？

参阅: [日志诊断](#logs)

## 故障分类（按类型）

而软件的故障一般集中在如下三个方面：

* 内存、CPU、硬盘等**计算资源不足**
* 组件与组件之间**连接障碍**（网络不通、访问权限不足、账号错误、黑名单问题、进程互斥）
* 组件预设情况下**失效**（损坏、无法启动、没启动、锁定、依赖条件变化）

<DocCardList items={useCurrentSidebarCategory().items}/>

## 故障分类（按软件）

* Apache
* Docker

## 方法与工具

### 谈谈方法{#methodology}

**“事出必有因”，“君子求诸己”，“直面困难，无所畏惧”**。这三句话是面对故障时我们最需要恪守的哲学。  

精神上达到了高度的统一后，就剩下技法。

故障处理是有据可依的，在这里，我们推荐一种经典的技术研发领域具有普适性的故障处理方法论《Triz 理论》。 Triz 是一种关于创新方法和问题处理的方法论，它揭示了技术的本质，以模式化的方法展现了技术组件的架构与连接复杂性。

> 笛卡尔:最有价值的知识是关于方法的知识。

### 日志诊断{#logs}

日志就是证据，它蕴含了问题的原因。“通过日志找问题，预判问题找日志”是最常见的解决故障的办法。

#### Linux

应用报错后，有如下几个可以分析日志的入口： 

1. 日志文件路径：*/data/logs/appname*

2. 日志管理查看方法

   ```
   # 指定服务日志
   systemctl status appname
   journalctl -u appname

   # 查看 systemd 的错误日志，-p 支持 emerg alert err crit warning notice info debug 等值
   journalctl -p err

   # 查看指定服务的日志
   journalctl -u httpd

   # 查看内核日志
   journalctl -k

   # 查看脚本的日志
   journalctl /usr/bin/bash

   # 查看指定用户的日志
   journalctl UID=33 --since today
   ```

3. Docker 容器日志查看方法
   ```
   docker status appname
   ```

检索关键词 **Failed** 或者 **error** 查看错误

#### Windows

按照下列图中所示，进入到 Windows 系统的**事件查看器**，选择 Windows 日志下的应用程序，然后在右侧的事件列表查看出现错误的应用程序，单击即可在下方弹出详细的错误信息，最后就可以根据错误原因来纠正错误。

![event](https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-eventerror-websoft9-1.png)
![event](https://libs.websoft9.com/Websoft9/DocsPicture/zh/wampserver/wampserver-eventerror-websoft9-2.png)


### 工具

* [HTTP 状态码速查](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html)




